<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Site structure and configuration ¬∑ Markspresso Docs</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
      :root {
        /* default to light until data-theme is applied */
        --bg: #f9fafb;
        --surface: #ffffff;
        --border-subtle: #e5e7eb;
        --text: #111827;
        --muted: #6b7280;
        --accent: #2563eb;
        --code-bg: rgba(15, 23, 42, 0.06); /* soft gray for light mode code blocks */
      }

      :root[data-theme="light"] {
        --bg: #f9fafb;
        --surface: #ffffff;
        --border-subtle: #e5e7eb;
        --text: #111827;
        --muted: #6b7280;
        --accent: #2563eb;
        --code-bg: rgba(15, 23, 42, 0.06);
      }

      :root[data-theme="dark"] {
        --bg: #020617;
        --surface: #020617;
        --border-subtle: #1f2937;
        --text: #e5e7eb;
        --muted: #9ca3af;
        --accent: #38bdf8;
        --code-bg: #020617;
      }

      @media (prefers-color-scheme: dark) {
        :root:not([data-theme]) {
          --bg: #020617;
          --surface: #020617;
          --border-subtle: #1f2937;
          --text: #e5e7eb;
          --muted: #9ca3af;
          --accent: #38bdf8;
          --code-bg: #020617;
        }
      }

      * { box-sizing: border-box; }

      body {
        margin: 0;
        min-height: 100vh;
        font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        background: var(--bg);
        color: var(--text);
      }

      a { color: var(--accent); }
      a:hover { color: var(--accent-strong); }

      .docs-shell {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }

      .header {
        position: sticky;
        top: 0;
        z-index: 20;
        border-bottom: 1px solid var(--border-subtle);
        background: var(--surface);
      }

      .header-inner {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0.75rem 1.5rem;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1.5rem;
      }

      .theme-toggle {
        border: 1px solid var(--border-subtle);
        background: transparent;
        color: var(--muted);
        padding: 0.25rem 0.6rem;
        font-size: 0.8rem;
        cursor: pointer;
        border-radius: 0;
      }

      .theme-toggle:hover {
        color: var(--text);
        background: rgba(148, 163, 184, 0.15);
      }

      .logo {
        display: inline-flex;
        align-items: center;
        gap: 0.6rem;
        text-decoration: none;
        color: inherit;
      }

      .logo-icon {
        width: 32px;
        height: 32px;
        border-radius: 0;
        background: transparent;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .logo-text {
        display: flex;
        flex-direction: column;
        gap: 0.1rem;
      }

      .logo-title {
        font-size: 1rem;
        font-weight: 600;
        letter-spacing: 0.04em;
      }

      .logo-subtitle {
        font-size: 0.75rem;
        color: var(--muted);
      }

      .header-nav {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        font-size: 0.85rem;
      }

      .nav-link {
        color: var(--muted);
        text-decoration: none;
        padding: 0.25rem 0.6rem;
        border-radius: 0;
        transition: background 0.15s ease, color 0.15s ease;
      }

      .nav-link:hover {
        color: var(--text);
        background: rgba(15, 23, 42, 0.8);
      }

      .nav-link.active {
        color: var(--accent-strong);
        background: rgba(56, 189, 248, 0.12);
      }

      .docs-layout {
        flex: 1;
        display: grid;
        grid-template-columns: minmax(0, 1fr);
        gap: 1.75rem;
        max-width: 1200px;
        margin: 0 auto;
        padding: 1.5rem 1.25rem 2.5rem;
      }

      @media (min-width: 1024px) {
        .docs-layout {
          grid-template-columns: 260px minmax(0, 1fr) 230px;
        }
      }

      .sidebar,
      .toc-sidebar {
        display: none;
      }

      @media (min-width: 1024px) {
        .sidebar,
        .toc-sidebar {
          display: block;
        }
      }

      .sidebar {
        position: sticky;
        top: 4.25rem;
        align-self: flex-start;
      }

      .toc-sidebar {
        position: sticky;
        top: 4.25rem;
        align-self: flex-start;
      }

      .sidebar-inner,
      .toc-inner {
        background: var(--surface);
        border-radius: 0;
        border: 1px solid var(--border-subtle);
        padding: 1rem 1rem 1.1rem;
        box-shadow: none;
        font-size: 0.8rem;
      }

      .sidebar-title,
      .toc-title {
        margin: 0 0 0.75rem;
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.18em;
        color: var(--muted);
      }

      .docs-nav {
        margin: 0 0 0.75rem;
      }

      .docs-nav ul {
        list-style: none;
        padding-left: 0;
        margin: 0;
      }

      .docs-nav li {
        margin: 0.05rem 0;
      }

      .docs-nav a {
        display: block;
        padding: 0.25rem 0.35rem;
        border-radius: 0;
        color: var(--muted);
        text-decoration: none;
        transition: background 0.15s ease, color 0.15s ease;
      }

      .docs-nav a:hover {
        color: var(--text);
        background: rgba(15, 23, 42, 0.9);
      }

      .docs-nav li.active > a {
        color: var(--accent-strong);
        background: rgba(56, 189, 248, 0.16);
      }

      .main-card {
        position: relative;
        padding: 1.6rem 1.9rem 2.2rem;
        background: var(--surface);
        border: 1px solid var(--border-subtle);
        border-radius: 0;
        box-shadow: none;
      }

      .content-header {
        margin-bottom: 1.25rem;
        border-bottom: 1px solid rgba(148, 163, 184, 0.35);
        padding-bottom: 0.9rem;
      }

      .content-title {
        margin: 0 0 0.35rem;
        font-size: 1.75rem;
        letter-spacing: 0.02em;
      }

      .content-description {
        margin: 0;
        font-size: 0.9rem;
        color: var(--muted);
      }

      .content-body {
        font-size: 0.95rem;
        line-height: 1.8;
      }

      .content-body h1,
      .content-body h2,
      .content-body h3 {
        margin-top: 1.8rem;
      }

      .content-body pre {
        background: var(--code-bg);
        color: var(--text);
        border-radius: 0;
        padding: 0.9rem 1.1rem;
        overflow-x: auto;
        font-size: 0.85rem;
        border: 1px solid var(--border-subtle);
      }

      .content-body code {
        font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        color: var(--text);
        font-size: 0.85em;
      }

      .content-body a {
        text-decoration: none;
        border-bottom: 1px solid rgba(56, 189, 248, 0.5);
      }

      .content-body a:hover {
        border-bottom-color: rgba(56, 189, 248, 1);
      }

      .toc-list {
        list-style: none;
        padding-left: 0;
        margin: 0;
      }

      .toc-list li {
        margin: 0.1rem 0;
      }

      .toc-list a {
        color: var(--muted);
        text-decoration: none;
        font-size: 0.78rem;
      }

      .footer {
        border-top: 1px solid var(--border-subtle);
        background: var(--surface);
        padding: 0.75rem 1.5rem 1.1rem;
        font-size: 0.8rem;
        color: var(--muted);
      }

      .footer-inner {
        max-width: 1200px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
        flex-wrap: wrap;
      }

      .footer-links {
        display: flex;
        gap: 0.75rem;
      }

      .footer-link {
        color: var(--muted);
        text-decoration: none;
      }

      .footer-link:hover {
        color: var(--accent-strong);
      }
    </style>
  </head>
  <body>
    <div class="docs-shell">
      <header class="header">
        <div class="header-inner">
          <a href="/" class="logo">
            <div class="logo-icon">
              <img src="/markspresso-logo.png" alt="Markspresso logo" style="width: 100%; height: 100%; object-fit: contain; border-radius: inherit;" />
            </div>
            <div class="logo-text">
              <div class="logo-title">Markspresso</div>
              <div class="logo-subtitle">Static sites brewed from Markdown</div>
            </div>
          </a>
          <nav class="header-nav">
            <a href="/" class="nav-link">Home</a>
            <a href="/docs/010_getting-started/" class="nav-link active">Docs</a>
            <a href="https://github.com/cybersonic/markspresso" class="nav-link" target="_blank">GitHub</a>
            <button class="theme-toggle" type="button" onclick="window.markspressoToggleTheme && window.markspressoToggleTheme()" aria-label="Toggle color theme">üåì</button>
          </nav>
        </div>
      </header>

      <div class="docs-layout">
        <aside class="sidebar">
          <div class="sidebar-inner">
            <h2 class="sidebar-title">Documentation</h2>
            <nav class="docs-nav">
  <ul>
    <li>
      <strong>Docs</strong>
      <ul>
    <li><a href="/docs/getting-started/">Getting started</a></li>
    <li class="active"><a href="/docs/site-structure-and-config/">Site structure and configuration</a></li>
    <li><a href="/docs/content-and-front-matter/">Content and front matter</a></li>
    <li><a href="/docs/layouts-and-partials/">Layouts and partials</a></li>
    <li><a href="/docs/navigation/">Navigation</a></li>
    <li><a href="/docs/posts-and-pages/">Posts and pages</a></li>
      </ul>
    </li>
  </ul>
</nav>

          </div>
        </aside>

        <main class="main-card">
          <div class="content-header">
            <h1 class="content-title">Site structure and configuration</h1>
            
          </div>
          <div class="content-body">
            <h2>Site structure and configuration</h2>
<p>Markspresso expects a simple, conventional directory layout. You can customize it via <code>markspresso.json</code>.</p>
<h3>Default layout</h3>
<p>When you run <code>lucli markspresso create</code>, your site root is populated with:</p>
<ul>
<li><code>markspresso.json</code> ‚Äì main configuration file</li>
<li><code>content/</code> ‚Äì Markdown content
<ul>
<li><code>index.md</code> ‚Äì home page</li>
<li><code>posts/hello-world.md</code> ‚Äì starter post</li>
</ul>
</li>
<li><code>layouts/</code> ‚Äì HTML layout templates
<ul>
<li><code>page.html</code> ‚Äì default page layout</li>
<li><code>post.html</code> ‚Äì default post layout</li>
<li><code>partials/</code> ‚Äì shared partial templates for header, footer, etc.</li>
</ul>
</li>
<li><code>assets/</code> ‚Äì static files (CSS, images, JS) copied as-is into the build output</li>
<li><code>public/</code> ‚Äì output directory for generated HTML</li>
</ul>
<p>You can move these around by editing <code>markspresso.json</code>.</p>
<h3><code>markspresso.json</code> schema</h3>
<p>A minimal config looks like this:</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;My Site&quot;,
  &quot;baseUrl&quot;: &quot;http://localhost:8080&quot;,
  &quot;paths&quot;: {
    &quot;content&quot;: &quot;content&quot;,
    &quot;layouts&quot;: &quot;layouts&quot;,
    &quot;assets&quot;: &quot;assets&quot;,
    &quot;output&quot;: &quot;public&quot;
  },
  &quot;build&quot;: {
    &quot;defaultLayout&quot;: &quot;page&quot;,
    &quot;prettyUrls&quot;: true,
    &quot;includeDrafts&quot;: false,
    &quot;latestPostsCount&quot;: 5
  },
  &quot;collections&quot;: {
    &quot;posts&quot;: {
      &quot;path&quot;: &quot;posts&quot;,
      &quot;layout&quot;: &quot;post&quot;,
      &quot;permalink&quot;: &quot;/posts/:slug/&quot;
    }
  }
}
</code></pre>
<h4><code>paths</code></h4>
<ul>
<li><code>content</code> ‚Äì where Markspresso looks for Markdown files</li>
<li><code>layouts</code> ‚Äì where it looks for layout templates</li>
<li><code>assets</code> ‚Äì copied recursively into the output directory</li>
<li><code>output</code> ‚Äì where generated HTML is written</li>
</ul>
<h4><code>build</code></h4>
<ul>
<li><code>defaultLayout</code> ‚Äì name of the layout used when a document does not specify <code>layout</code> in front matter</li>
<li><code>prettyUrls</code> ‚Äì if <code>true</code>, non-index pages are written to <code>path/to/page/index.html</code> instead of <code>path/to/page.html</code></li>
<li><code>includeDrafts</code> ‚Äì if <code>true</code>, include <code>draft: true</code> docs even without the <code>--drafts</code> flag</li>
<li><code>latestPostsCount</code> ‚Äì how many latest posts to inject into the home page as <code>{{ latest_posts }}</code></li>
</ul>
<h4><code>collections</code></h4>
<p>Collections group related content under a subdirectory and layout.</p>
<p>Each collection entry has:</p>
<ul>
<li><code>path</code> ‚Äì subdirectory under <code>content/</code></li>
<li><code>layout</code> ‚Äì layout name to use by default</li>
<li><code>permalink</code> ‚Äì pattern for canonical URLs; <code>:slug</code> is replaced with the document slug</li>
</ul>
<p>The default <code>posts</code> collection maps to <code>content/posts/</code> and uses the <code>post</code> layout.</p>
<h3>Optional navigation config</h3>
<p>If you want your navigation to only include a subset of content (for example, everything under <code>content/docs</code>), you can add a <code>navigation</code> block:</p>
<pre><code class="language-json">{
  &quot;navigation&quot;: {
    &quot;rootPath&quot;: &quot;docs&quot;
  }
}
</code></pre>
<p>When <code>rootPath</code> is set, navigation will only be built from documents whose relative paths start with <code>docs/</code>.</p>
<h3>Overriding paths with CLI flags</h3>
<p>CLI flags can temporarily override configuration values:</p>
<ul>
<li><code>lucli markspresso build --src=docs</code> ‚Äì treat <code>docs/</code> as the content root</li>
<li><code>lucli markspresso build --out=dist</code> ‚Äì write HTML into <code>dist/</code></li>
</ul>
<p>These do not modify <code>markspresso.json</code>; they just affect the current build.</p>

          </div>
        </main>

        
      </div>

      <footer class="footer">
  <div class="footer-inner">
    <span>Markspresso &copy; 2025 <a href="https://github.com/cybersonic/" class="footer-link" target="_blank">Mark Drew</a> ¬∑ ‚òïÔ∏è brewed with ‚ù§Ô∏è, <a href="https://github.com/cybersonic/lucli" class="footer-link" target="_blank">LuCLI</a> &amp; <a href="https://lucee.org" class="footer-link" target="_blank">Lucee</a></span>
    <span><a href="https://github.com/cybersonic/markspresso" class="footer-link" target="_blank">View on GitHub</a></span>
  </div>
</footer>

    </div>
    <script>
      (function() {
        var storageKey = 'markspresso-theme';
        var root = document.documentElement;

        function applyTheme(theme) {
          if (!theme) return;
          root.setAttribute('data-theme', theme);
          try { localStorage.setItem(storageKey, theme); } catch (e) {}
        }

        function getStoredTheme() {
          try { return localStorage.getItem(storageKey); } catch (e) { return null; }
        }

        var stored = getStoredTheme();
        if (stored === 'light' || stored === 'dark') {
          applyTheme(stored);
        } else {
          var prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
          applyTheme(prefersDark ? 'dark' : 'light');
        }

        window.markspressoToggleTheme = function() {
          var current = root.getAttribute('data-theme') || 'light';
          var next = current === 'light' ? 'dark' : 'light';
          applyTheme(next);
        };
      })();
    </script>
  </body>
</html>
